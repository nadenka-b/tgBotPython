import logging

logger = logging.getLogger(__name__)


TEXTS = {
    'welcome': """ğŸ‘‹ Ğ”Ğ¾Ğ±Ñ€Ğ¾ Ğ¿Ğ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ² Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ‚Ğ¾Ñ€ Ğ¿Ñ€Ğ¸Ñ‘Ğ¼Ğ° ĞšĞ¤Ğ£!

Ğ­Ñ‚Ğ¾Ñ‚ Ğ±Ğ¾Ñ‚ Ğ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ°ĞµÑ‚ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºÑƒ Ğ¿Ğ¾ÑÑ‚ÑƒĞ¿Ğ»ĞµĞ½Ğ¸Ñ Ğ² ĞšĞ°Ğ·Ğ°Ğ½ÑĞºĞ¸Ğ¹ Ñ„ĞµĞ´ĞµÑ€Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ÑƒĞ½Ğ¸Ğ²ĞµÑ€ÑĞ¸Ñ‚ĞµÑ‚.

Ğ¯ Ğ¿Ğ¾Ğ¼Ğ¾Ğ³Ñƒ Ğ²Ğ°Ğ¼:
âœ… ĞÑ‚Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ğ¾ Ñ€Ğ°Ğ·Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğ¼ ĞºÑ€Ğ¸Ñ‚ĞµÑ€Ğ¸ÑĞ¼
âœ… ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºÑƒ Ğ¿Ğ¾ÑÑ‚ÑƒĞ¿Ğ»ĞµĞ½Ğ¸Ñ
âœ… ĞĞ°Ğ¹Ñ‚Ğ¸ ÑĞ°Ğ¼Ñ‹Ğµ Ğ²Ğ¾ÑÑ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ
âœ… Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹ Ğ² Excel

Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ñ‚Ğ¸Ğ¿ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°:""",

    'help': """ğŸ“š Ğ¡ĞŸĞ ĞĞ’ĞšĞ ĞŸĞ Ğ‘ĞĞ¢Ğ£

ğŸ” ĞšĞ°Ğº ÑÑ‚Ğ¾ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚:
1. Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ñ‚Ğ¸Ğ¿ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ° 
Ğ¢Ğ¸Ğ¿Ñ‹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°:
â€¢ ğŸ“Š ĞŸĞ¾ Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ - Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ· ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ğ¾Ğ³Ğ¾ Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ¿Ğ¾Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²ĞºĞ¸
â€¢ ğŸ›ï¸ ĞŸĞ¾ Ğ¸Ğ½ÑÑ‚Ğ¸Ñ‚ÑƒÑ‚Ñƒ - Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ· Ğ²ÑĞµĞ³Ğ¾ Ğ¸Ğ½ÑÑ‚Ğ¸Ñ‚ÑƒÑ‚Ğ°
â€¢ ğŸ“ ĞŸĞ¾ ÑƒĞ½Ğ¸Ğ²ĞµÑ€ÑĞ¸Ñ‚ĞµÑ‚Ñƒ - Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ· Ğ²ÑĞµĞ³Ğ¾ ÑƒĞ½Ğ¸Ğ²ĞµÑ€ÑĞ¸Ñ‚ĞµÑ‚Ğ° / Ñ„Ğ¸Ğ»Ğ¸Ğ°Ğ»Ğ°
2. ĞŸĞ¾ Ğ¾Ñ‡ĞµÑ€ĞµĞ´Ğ¸ Ğ²Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ğ²Ğ°Ğ¼ Ğ¸Ğ½Ñ‚ĞµÑ€ĞµÑĞ½Ñ‹.
3. ĞŸĞ¾ÑĞ»Ğµ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ° Ğ²ÑĞµÑ… Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ¾Ğ² Ğ±Ğ¾Ñ‚ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñƒ, Ğ¿Ñ€Ğ¾Ğ²ĞµĞ´ĞµÑ‚ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ· Ğ¸ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ Ñ„Ğ°Ğ¹Ğ» Ñ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ¾Ğ¼ Ğ² Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğµ Excel.

âš™ï¸ ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹:
/start - Ğ“Ğ»Ğ°Ğ²Ğ½Ğ¾Ğµ Ğ¼ĞµĞ½Ñ
/help - Ğ­Ñ‚Ğ° ÑĞ¿Ñ€Ğ°Ğ²ĞºĞ°""",

    'choose_analysis_type': """ğŸ¯ Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ñ‚Ğ¸Ğ¿ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°:""",

    'loading_options': """â³ Ğ—Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°Ñ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ğµ Ğ¾Ğ¿Ñ†Ğ¸Ğ¸...""",
    'processing': """â³ ĞĞ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒÑ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ...""",
    'analysis_cancelled': """âŒ ĞĞ½Ğ°Ğ»Ğ¸Ğ· Ğ¾Ñ‚Ğ¼ĞµĞ½ĞµĞ½.""",

    'excel_caption': """ğŸ“¥ Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°""",
    'new_analysis': """ĞĞ°Ñ‡Ğ°Ñ‚ÑŒ Ğ½Ğ¾Ğ²Ñ‹Ğ¹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·?""",

    'choose_level': """ğŸ“ Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ:""",
    'choose_inst': """ğŸ›ï¸ Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ğ’Ğ£Ğ— / Ğ¤Ğ¸Ğ»Ğ¸Ğ°Ğ»:""",
    'choose_faculty': """ğŸ“š Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ğ¸Ğ½ÑÑ‚Ğ¸Ñ‚ÑƒÑ‚:""",
    'choose_speciality': """ğŸ¯ Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ:""",
    'choose_typeofstudy': """ğŸ“– Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ñ‚Ğ¸Ğ¿ Ğ¾Ğ±ÑƒÑ‡ĞµĞ½Ğ¸Ñ:""",
    'choose_category': """ğŸŒ Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ:""",

    'error_loading': """âŒ ĞÑˆĞ¸Ğ±ĞºĞ° Ğ¿Ñ€Ğ¸ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞµ Ğ¾Ğ¿Ñ†Ğ¸Ğ¹. ĞŸĞ¾Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹Ñ‚Ğµ Ğ¿Ğ¾Ğ·Ğ¶Ğµ.""",
}

NAMES = {
    'level': 'ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ',
    'inst': 'Ñ„Ğ¸Ğ»Ğ¸Ğ°Ğ» / Ğ’Ğ£Ğ—',
    'faculty': 'Ğ¸Ğ½ÑÑ‚Ğ¸Ñ‚ÑƒÑ‚',
    'speciality': 'Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ',
    'typeofstudy': 'Ñ„Ğ¾Ñ€Ğ¼Ñƒ Ğ¾Ğ±ÑƒÑ‡ĞµĞ½Ğ¸Ñ',
    'category': 'ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ'
}


def get_text(key: str, **kwargs) -> str:
    """
    ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ñ‚ĞµĞºÑÑ‚ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ

    Args:
        key: ĞšĞ»ÑÑ‡ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ
        **kwargs: ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ Ğ´Ğ»Ñ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

    Returns:
        ĞÑ‚Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ñ‚ĞµĞºÑÑ‚
    """
    text = TEXTS.get(key, f"âŒ Ğ¢ĞµĞºÑÑ‚ '{key}' Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½")
    try:
        return text.format(**kwargs)
    except KeyError as e:
        logger.error(f"âŒ ĞÑˆĞ¸Ğ±ĞºĞ° Ğ¿Ğ¾Ğ´ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ¸ {e}")
        return "âŒ ĞÑˆĞ¸Ğ±ĞºĞ° Ğ¿Ğ¾Ğ´ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ¸"


def get_param_display_name(param: str) -> str:
    return NAMES.get(param, param)
